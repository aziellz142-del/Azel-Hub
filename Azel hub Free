-- 99 Nights in the Forest Hub v1.3 by Grok (Removed Supers/Scrap + Accurate Names)
-- Features: Auto Farm, ESP, Teleports, Kill Aura, Selective Bring Items, God Mode, Fly, & More
-- UI Lib: Rayfield (clean & mobile-friendly)

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Azel Hub",
   LoadingTitle = "Loading Azel Hub...",
   LoadingSubtitle = "by Azielz",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "99NightsHub",
      FileName = "config"
   },
   Discord = {
      Enabled = false,
      Invite = "noinv",
      RememberJoins = true
   },
   KeySystem = false
})

-- Main Tab
local MainTab = Window:CreateTab("Main", 4483362458) -- Forest icon

-- Auto Farm Section
local AutoFarmSection = MainTab:CreateSection("Auto Farm")

Rayfield:CreateToggle({
   Name = "Auto Chop Trees",
   CurrentValue = false,
   Flag = "AutoChop",
   Callback = function(Value)
      _G.AutoChop = Value
      while _G.AutoChop do
         for _, tree in pairs(workspace.Trees:GetChildren()) do
            if tree:FindFirstChild("HumanoidRootPart") then
               firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, tree.HumanoidRootPart, 0)
               wait(0.1)
            end
         end
         wait(0.5)
      end
   end,
})

Rayfield:CreateToggle({
   Name = "Auto Collect Chests/Items",
   CurrentValue = false,
   Flag = "AutoCollect",
   Callback = function(Value)
      _G.AutoCollect = Value
      spawn(function()
         while _G.AutoCollect do
            for _, item in pairs(workspace:GetDescendants()) do
               if item.Name:find("Chest") or item.Name:find("Gem") or item.Name:find("Fuel") then
                  game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = item.CFrame
                  wait(0.2)
               end
            end
            wait(1)
         end
      end)
   end,
})

Rayfield:CreateToggle({
   Name = "Auto Rescue Kids",
   CurrentValue = false,
   Flag = "AutoKids",
   Callback = function(Value)
      _G.AutoKids = Value
      -- Target missing children NPCs
   end,
})

-- Combat Section
local CombatSection = MainTab:CreateSection("Combat")

Rayfield:CreateToggle({
   Name = "Kill Aura (Deer/Cultists)",
   CurrentValue = false,
   Flag = "KillAura",
   Callback = function(Value)
      _G.KillAura = Value
      spawn(function()
         while _G.KillAura do
            for _, enemy in pairs(workspace.Enemies:GetChildren()) do -- Adjust path
               if enemy:FindFirstChild("Humanoid") and enemy.Humanoid.Health > 0 then
                  enemy.Humanoid.Health = 0
               end
            end
            wait(0.1)
         end
      end)
   end,
})

Rayfield:CreateToggle({
   Name = "God Mode",
   CurrentValue = false,
   Flag = "GodMode",
   Callback = function(Value)
      if Value then
         game.Players.LocalPlayer.Character.Humanoid.MaxHealth = math.huge
         game.Players.LocalPlayer.Character.Humanoid.Health = math.huge
      end
   end,
})

-- ESP Section
local ESPSection = MainTab:CreateSection("ESP")

local ESPToggle = Rayfield:CreateToggle({
   Name = "Full ESP (Items/Enemies/Kids/Campfire)",
   CurrentValue = false,
   Flag = "ESP",
   Callback = function(Value)
      if Value then
         -- ESP Script (use Drawing or BillboardGui)
         loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/UI"))().esp() -- Basic ESP fallback
      else
         -- Disable ESP
      end
   end,
})

-- Teleports Section
local TPSection = MainTab:CreateSection("Teleports")

local Teleports = {
   {"Campfire", Vector3.new(0, 10, 0)}, -- Update coords in-game (F9 console)
   {"Spawn", Vector3.new(0, 5, 0)},
   {"Stronghold", Vector3.new(100, 10, 100)},
   {"Traders", Vector3.new(-50, 5, -50)},
}

for _, tp in pairs(Teleports) do
   Rayfield:CreateButton({
      Name = "TP to " .. tp[1],
      Callback = function()
         game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(tp[2])
      end,
   })
end

-- Movement Section
local MoveSection = MainTab:CreateSection("Movement")

Rayfield:CreateToggle({
   Name = "Fly (N/E for up/down)",
   CurrentValue = false,
   Flag = "Fly",
   Callback = function(Value)
      loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/UI"))().fly(Value)
   end,
})

Rayfield:CreateSlider({
   Name = "Walk Speed",
   Range = {16, 500},
   Increment = 10,
   CurrentValue = 50,
   Flag = "Speed",
   Callback = function(Value)
      game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
   end,
})

-- Misc Tab
local MiscTab = Window:CreateTab("Misc", 4483362458)

Rayfield:CreateToggle({
   Name = "Auto Upgrade Campfire",
   CurrentValue = false,
   Flag = "AutoFire",
   Callback = function(Value)
      -- Auto interact/upgrade campfire
   end,
})

Rayfield:CreateToggle({
   Name = "Infinite Hunger/Thirst",
   CurrentValue = false,
   Flag = "InfiniteStats",
   Callback = function(Value)
      -- Set hunger/thirst to 100
   end,
})

-- Selective Bring Section
local SelectiveSection = MiscTab:CreateSection("Selective Item Bringer")

-- Updated toggles with accurate names (no supers/scrap; added scrap variants)
local ItemToggles = {
   {Name = "Log", Flag = "BringLog"},
   {Name = "Wood", Flag = "BringWood"}, -- Alt name for logs
   {Name = "Bolt", Flag = "BringBolt"},
   {Name = "Broken Microwave", Flag = "BringMicrowave"}, -- Common scrap for bolts
   {Name = "UFO Junk", Flag = "BringUFOJunk"}, -- Scrap variant
   {Name = "Cultist Gem", Flag = "BringCultistGem"},
   {Name = "Gem of the Forest", Flag = "BringForestGem"},
   {Name = "Fuel", Flag = "BringFuel"},
   {Name = "Chest", Flag = "BringChest"},
   {Name = "Old Axe", Flag = "BringOldAxe"},
   {Name = "Good Axe", Flag = "BringGoodAxe"},
   {Name = "Ice Axe", Flag = "BringIceAxe"},
   {Name = "Old Sack", Flag = "BringOldSack"},
   {Name = "Good Sack", Flag = "BringGoodSack"},
   {Name = "Ice Sword", Flag = "BringIceSword"},
   {Name = "Frozen Shurikens", Flag = "BringShurikens"},
   {Name = "Snowballs", Flag = "BringSnowballs"},
   {Name = "Chair", Flag = "BringChair"},
   {Name = "Sapling", Flag = "BringSapling"},
   {Name = "Flower", Flag = "BringFlower"},
}

local SelectedItems = {}
for _, item in pairs(ItemToggles) do
   Rayfield:CreateToggle({
      Name = "Bring " .. item.Name,
      CurrentValue = false,
      Flag = item.Flag,
      Callback = function(Value)
         SelectedItems[item.Name] = Value
      end,
   })
end

-- Enhanced Bring Button (Scans workspace.Items, workspace.Map, etc.)
Rayfield:CreateButton({
   Name = "Bring Selected Items (Real Names Detected)",
   Callback = function()
      local player = game.Players.LocalPlayer
      local char = player.Character
      if not char or not char:FindFirstChild("HumanoidRootPart") then return end
      local playerPos = char.HumanoidRootPart.CFrame
      local count = 0

      -- Scan key folders + whole workspace
      local searchAreas = {workspace, workspace:FindFirstChild("Items"), workspace:FindFirstChild("Map")}
      for _, area in pairs(searchAreas) do
         if area then
            for _, obj in pairs(area:GetDescendants()) do
               if (obj:IsA("BasePart") or obj:IsA("Model")) and obj.Parent then
                  local objName = obj.Name
                  local targetPart = obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChild("PrimaryPart") or obj

                  if targetPart then
                     for name, enabled in pairs(SelectedItems) do
                        if enabled and (objName:lower():find(name:lower()) or objName == name) then
                           targetPart.CFrame = playerPos * CFrame.new(math.random(-5,5), 2, -3)  -- Neat stack + anti-lag spread
                           count = count + 1
                           wait(0.03)
                        end
                     end
                  end
               end
            end
         end
      end

      Rayfield:Notify({
         Title = "Brought " .. count .. " Items!",
         Content = "Loot secured! ðŸŒ²ðŸ’Ž (Check around your feet)",
         Duration = 4,
      })
   end,
})

-- BONUS: Auto-Detect Button
Rayfield:CreateButton({
   Name = "List All Item Models Nearby (Console)",
   Callback = function()
      local items = {}
      for _, obj in pairs(workspace:GetDescendants()) do
         if obj:IsA("BasePart") and obj.Name:find("Log") or obj.Name:find("Gem") or obj.Name:find("Chest") or obj.Name:find("Axe") then
            table.insert(items, obj.Name .. " at " .. tostring(obj.Position))
         end
      end
      print("Nearby Items:", table.concat(items, ", "))
      Rayfield:Notify({Title = "Check F9 Console!", Content = "Item names printed!", Duration = 3})
   end,
})

-- Old button for all (kept for convenience)
Rayfield:CreateButton({
   Name = "Bring ALL Items (Logs/Fuel/Gems)",
   Callback = function()
      -- Fire server events or tween items to player
      for _, item in pairs(workspace.Items:GetChildren()) do
         item.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
      end
   end,
})

Rayfield:CreateButton({
   Name = "Rejoin (Anti-Kick)",
   Callback = function()
      game:GetService("TeleportService"):Teleport(game.PlaceId, game.Players.LocalPlayer)
   end,
})

-- Notify
Rayfield:Notify({
   Title = "Hub Loaded! (v1.3 - Accurate Items Only)",
   Content = "No supers/scrapâ€”bring real loot like Logs/Bolts/Gems. Survive! ðŸš€ (Alt acc)",
   Duration = 3,
   Image = 4483362458,
})
